# We configure this as it seems to be mandatory. But instead of executing integration tests as intended,
# we build a trivial target. We trust our integration tests in our CI to ensure everything is fine for a release.
# Either way, our integration tests are basd on Python scripts and currently could not be executed by a bazel test
# command either way.
matrix:
  platform: [ "macos", "ubuntu2004", "windows" ]
  # DWYU supports Bazel 5.4.0, but only via WORKSPACE
  bazel: [ 6.x, 7.x ]
tasks:
  verify_targets:
    name: "Verify build targets"
    platform: ${{ platform }}
    bazel: ${{ bazel }}
    build_targets:
      - "@depend_on_what_you_use//:apply_fixes"
